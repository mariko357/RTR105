#include "stdio.h"
#include "math.h"

#define MARGIN_LEFT -10.0f
#define MARGIN_RIGHT 5.0f
#define PRECISION_COUNT 148

double fn(double x){
    return atan(x);
}


double dabs(double x){
    return x >= 0.0 ? x : -x;
}


double integral(double (*function)(double), double left, double right, unsigned long iterations){
    double step = ((right - left) / iterations);
    double integral = 0.0f;
    
    for(unsigned long i = 0; i < iterations; i++){
        integral += (fn(left + i * step) * step);
    }

    return integral;
}

double precision[] = {
    0.1, 
    0.075, 0.06875, 0.0625, 0.05625, 0.05, 
    0.0275, 0.01625, 0.005, 0.00375, 0.0035, 0.00325, 0.003, 0.00275, 0.0025, 0.00225, 0.002, 0.001,
    0.00075, 0.000725, 0.0007, 0.000675, 0.00065, 0.000625, 0.0006, 0.000575, 0.00055, 0.000525, 0.0005,
    0.000275, 0.0002625, 0.00025, 0.0002375, 0.000225, 0.0002125, 0.0002, 0.0001875, 0.000175, 0.0001625, 0.00015, 0.0001375, 0.000125, 0.0001125, 0.0001,
    0.000075, 0.0000725, 0.00007, 0.0000675, 0.000065, 0.0000625, 0.00006, 0.0000575, 0.000055, 0.0000525, 0.00005,
    0.0000275, 0.00002625, 0.000025, 0.00002375, 0.0000225, 0.00002125, 0.00002, 0.00001875, 0.0000175, 0.00001625, 0.000015, 0.00001375, 0.0000125, 0.00001125, 0.00001,
    0.0000075, 0.00000725, 0.000007, 0.00000675, 0.0000065, 0.00000625, 0.000006, 0.00000575, 0.0000055, 0.00000525, 0.000005,
    0.00000275, 0.000002625, 0.0000025, 0.000002375, 0.00000225, 0.000002125, 0.000002, 0.000001875, 0.00000175, 0.000001625, 0.0000015, 0.000001375, 0.00000125, 0.000001125, 0.000001,
    0.00000075, 0.000000725, 0.0000007, 0.000000675, 0.00000065, 0.000000625, 0.0000006, 0.000000575, 0.00000055, 0.000000525, 0.0000005,
    0.000000275, 0.0000002625, 0.00000025, 0.0000002375, 0.000000225, 0.0000002125, 0.0000002, 0.0000001875, 0.000000175, 0.0000001625, 0.00000015, 0.0000001375, 0.000000125, 0.0000001125, 0.0000001,
    0.000000075, 0.0000000725, 0.00000007, 0.0000000675, 0.000000065, 0.0000000625, 0.00000006, 0.0000000575, 0.000000055, 0.0000000525, 0.00000005,
    0.0000000275, 0.00000002625, 0.000000025, 0.00000002375, 0.0000000225, 0.00000002125, 0.00000002, 0.00000001875, 0.0000000175, 0.00000001625, 0.000000015, 0.00000001375, 0.0000000125, 0.00000001125, 0.00000001,
    // Add more values as needed
};

int main(){

    printf("precision number    of steps needed\n");
    for(int p = 0; p < PRECISION_COUNT; p++){
        unsigned long iterations = 1;
        while(dabs(integral(fn, MARGIN_LEFT, MARGIN_RIGHT, iterations) - integral(fn, MARGIN_LEFT, MARGIN_RIGHT, iterations * 2)) > precision[p]){
            iterations *= 2;
        }
        printf("%.9lf %d\n", precision[p], iterations);
    }
    return 0;
}